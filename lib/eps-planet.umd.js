(function(r,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],i):(r=typeof globalThis<"u"?globalThis:r||self,i(r.EpsPlanet={},r.Vue))})(this,function(r,i){"use strict";const _=Array.isArray,h=e=>typeof e=="string",g=e=>e!==null&&typeof e=="object";function f(...e){const n=[];for(let o=0;o<e.length;o++){const t=e[o];if(!!t){if(h(t))n.push(t);else if(_(t))for(let s=0;s<t.length;s++){const c=f(t[s]);c&&n.push(c)}else if(g(t))for(const s in t)t[s]&&n.push(s)}}return n.join(" ")}const F="",y={type:{type:String,default:"default"},size:{type:String,default:"md"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},$=i.defineComponent({name:"WeButton",props:y,setup(e){return{classString:f(["we-button",`we-button-type-${e.type}`,e.disabled?"we-button-disabled":""])}}}),p=(e,n)=>{const o=e.__vccOpts||e;for(const[t,s]of n)o[t]=s;return o},b=["disabled"],E={class:"we-button-inner"};function B(e,n,o,t,s,c){return i.openBlock(),i.createElementBlock("button",{class:i.normalizeClass([e.classString]),disabled:e.disabled||e.loading},[i.createElementVNode("span",E,[i.renderSlot(e.$slots,"default")])],10,b)}const a=p($,[["render",B]]);a.install=function(e){return e.component(a.name,a),e};function S(e){let n=null,o=!1;const t=async()=>(n=new XE.Earth(e),o=!0,s(n),n);let s;const c=new Promise((d,I)=>{s=d});return i.onMounted(async()=>{console.log("onMounted"),t().then(d=>{s(d)})}),{isReady:o,load:t,earth:n,createPromise:c}}function w(e){return{all:e=e||new Map,on:function(n,o){var t=e.get(n);t?t.push(o):e.set(n,[o])},off:function(n,o){var t=e.get(n);t&&(o?t.splice(t.indexOf(o)>>>0,1):e.set(n,[]))},emit:function(n,o){var t=e.get(n);t&&t.slice().map(function(s){s(o)}),(t=e.get("*"))&&t.slice().map(function(s){s(n,o)})}}}const m=w(),V="",C=i.defineComponent({name:"lg-earth",components:{},props:{},emits:{},setup(e,n){return i.onMounted(async()=>{const o=document.querySelector("#container");let{load:t}=S(o),s=await t();m.emit("earth",s),i.provide("earth",s);const c=i.getCurrentInstance();c==null||c.appContext.app.provide("earth",s),c==null||c.appContext.app.provide("aaa",222)}),{}}}),j={id:"container"};function k(e,n,o,t,s,c){return i.openBlock(),i.createElementBlock("div",j)}const l=p(C,[["render",k]]);l.install=e=>{e.component(l.name,l)};const q="",M={class:"test-div"},P=i.defineComponent({name:"lg-test"}),u=i.defineComponent({...P,setup(e){return(n,o)=>(i.openBlock(),i.createElementBlock("div",M,"test"))}});u.install=e=>{e.component(u.name,u)};const x=[a,l,u];function O(){console.log("testFunc")}function T(e){return new Promise((n,o)=>{m.on("earth",t=>{n(t)})})}const A={install:function(e){x.forEach(n=>{e.use(n)})}};r.Button=a,r.Earth=l,r.Test=u,r.default=A,r.testFunc=O,r.useEarth=T,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
